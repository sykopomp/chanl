Code this library was originally based on was
ported from plan9's libthread/channel.c via plan9port
by roger peppe (rogpeppe@gmail.com), although basically none
of that code exists in ChanL anymore.

see http://swtch.com/~rsc/thread/ for a good position paper on
the CSP paradigm, or http://www.usingcsp.com/cspbook.pdf
for some theory.

see cspdoc.txt for reference documentation.

e.g.
create a channel:

   (defvar *c* (chan))

create a buffered channel with a buffer size of 5

   (defvar *c* (chan 5))

read a value from a channel (blocks if channel is empty)

   (recv *c*)

write a value to a channel (blocks if channel is full)

   (send *c* 99)

wait for any of a number of things to occur (unavailable right now):
   (mux
       ((? sync)
           (format t "got some value from sync~%"))
       ((? c d)
           (format t "got ~a from c~%" d))
       ((! e val)
           (format t "sent val on e~%"))
       ((? f (&key arg reply))
           (format t "got arg ~a, reply ~a~% from f" f arg reply))
       (:*
           (format t "would have blocked~%")))"

create a new process continually reading values and printing them:
   (spawn "Formatter process" (loop (format t "~a~%" (? *c*))))

See sieve.lisp for an example of a parallel prime sieve
